<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">

<head>
    <title>Formulario de Producto</title>
</head>

<body>
    <div layout:fragment="content">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="invalid-feedback" th:errors="*{nombre}"></div>
            </div>

            <div class="mb-3">
                <label for="precio" class="form-label">Precio</label>
                <input type="number" step="0.01" class="form-control" id="precio" th:field="*{precio}"
                    th:classappend="${#fields.hasErrors('precio')} ? 'is-invalid' : ''">
                <div class="invalid-feedback" th:errors="*{precio}"></div>
            </div>

            <div class="mb-3">
                <label for="stock" class="form-label">Stock</label>
                <input type="number" class="form-control" id="stock" th:field="*{stock}"
                    th:classappend="${#fields.hasErrors('stock')} ? 'is-invalid' : ''">
                <div class="invalid-feedback" th:errors="*{stock}"></div>
            </div>

            <div class="mb-3">
                <label for="proveedor" class="form-label">Proveedor</label>
                <select class="form-select" id="proveedor" th:field="*{idProveedor}"
                    th:classappend="${#fields.hasErrors('idProveedor')} ? 'is-invalid' : ''">
                    <option value="">Seleccione un proveedor</option>
                    <option th:each="prov : ${proveedores}" th:value="${prov.idProveedor}"
                        th:text="${prov.razonSocial}"></option>
                </select>
                <div class="invalid-feedback" th:errors="*{idProveedor}"></div>
            </div>

            <div class="mb-3" th:if="${producto.idProducto != null}">
                <label for="estado" class="form-label">Estado</label>
                <select class="form-select" id="estado" th:field="*{estado}">
                    <option value="A">Activo</option>
                    <option value="I">Inactivo</option>
                </select>
            </div>

            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a th:href="@{/productos}" class="btn btn-secondary">Cancelar</a>
            </div>
            </form>
        </div>
    </div>
    </div>
    </div>
    </div>
</body>

</html>